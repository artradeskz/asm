;загрузить_байт


.данные
буфер:
.байт 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0  ; 16 нулей — буфер

.текст
.глобал _start
_start:
    ; Загрузить адрес буфера в рди
    загрузить_адрес рди, буфер

    ; Записать "H" (0x48)
    загрузить_байт ал, 0x48
    сохранить_в_адрес [рди], ал
    увеличить рди

    ; Записать "i" (0x69)
    загрузить_байт ал, 0x69
    сохранить_в_адрес [рди], ал
    увеличить рди

    ; Записать "!" (0x21)
    загрузить_байт ал, 0x21
    сохранить_в_адрес [рди], ал
    увеличить рди

    ; Записать "\n" (0x0A)
    загрузить_байт ал, 0x0A
    сохранить_в_адрес [рди], ал

    ; Теперь вызываем write
    переместить_имм рди, 1          ; stdout
    загрузить_адрес рис, буфер      ; адрес строки
    переместить_имм рдх, 4          ; "Hi!\n" = 4 байта
    переместить_имм рвх, 1          ; sys_write
    вызов_системы

    ; Выход
    переместить_имм рвх, 60
    переместить_имм рди, 0
    вызов_системы